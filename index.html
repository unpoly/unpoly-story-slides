<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <meta charset='utf-8'>
    <title>Unpoly: Review 2017, Preview 2018</title>
    <meta content='yes' name='apple-mobile-web-app-capable'>
    <meta content='black-translucent' name='apple-mobile-web-app-status-bar-style'>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui' name='viewport'>
    <link href='css/reveal.css' rel='stylesheet'>
    <link href='css/theme/blood.css' id='theme' rel='stylesheet'>
    <link href='css/custom.css' rel='stylesheet'>
    <!-- Code syntax highlighting -->
    <link href='lib/css/highlightjs/paraiso-dark.css' rel='stylesheet'>
    <link href='pictures/favicon.png' rel='icon'>
    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <!--[if lt IE 9]>
      <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class='reveal'>
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class='slides'>
        <section>
          <h2>
            <img class='plain' src='pictures/logos/unpoly.png' width='50%'>
          </h2>
          <h3>
            Review <span class="blue">2017</span>
            <br>
            Roadmap <span class="blue">2018</span>
          </h3>
        </section>
        <section>
          <h2>2017</h2>
          <ul>
            <li>Drop support for IE9, IE10</li>
            <li>jQuery 3</li>
            <li>Webpack + npm</li>
            <li>Native AJAX</li>
            <li>Native promises</li>
            <li class='fragment orange'>
              Infinite bug fixes
            </li>
          </ul>
        </section>
        <section>
          <img height='600' src='pictures/diffs_without_unpoly.png'>
          <p class='center s'>
            Diff sizes of <code>lib</code> and tests (excluding renamed files)
          </p>
        </section>
        <section>
          <img height='600' src='pictures/diffs_with_unpoly.png'>
          <p class='center s'>
            Diff sizes of <code>lib</code> and tests (excluding renamed files)
          </p>
        </section>
        <section>
          <h2>2017</h2>
          <ul>
            <li>Drop support for IE9, IE10</li>
            <li>jQuery 3</li>
            <li>Webpack + npm</li>
            <li>Native AJAX</li>
            <li>Native promises</li>
            <li class='fragment orange'>
              Infinite bug fixes
            </li>
          </ul>
        </section>
        <section>
          <h2>
            <div class='subtle'>
              2017
            </div>
            <div class='line'>
              Unpoly 0.50
            </div>
          </h2>
        </section>
        <section>
          <h2>
            <div class='subtle'>
              2018
            </div>
            <div class='line'>
              Unpoly 1.0.0
            </div>
          </h2>
        </section>
        <section>
          <h2>
            <div class='subtle'>
              2018
            </div>
            <div class='line'>
              Unpoly 2.0.0
            </div>
          </h2>
        </section>
        <section>
          <h2>
            <div class='subtle'>
              2018
            </div>
            <div class='line'>
              Unpoly 3.0.0
            </div>
          </h2>
        </section>
        <section>
          <p>
            Unpoly stayed on 0.x for 3 years because of semantic versioning
          </p>
        </section>
        <section>
          <h2>
            <div class='subtle'>
              Sidebar
            </div>
            <div class='line'>
              Semantic versioning
            </div>
          </h2>
          <p>
            Major version zero (0.y.z) is for initial development.
            <br>
            <b>Anything may change at any time.</b>
            <br>
            The public API should not be considered stable.
          </p>
          <p>
            <b>Version 1.0.0 defines the public API.</b>
            The way in which the version number is incremented after this release is dependent on this public API and how it changes.
          </p>
          <p>
            Given a version number <code>MAJOR.MINOR.PATCH</code>, increment the:
          </p>
          <ol>
            <li><code>MAJOR</code> version when you make incompatible API changes,</li>
            <li><code>MINOR</code> version when you add functionality in a backwards-compatible manner,</li>
            <li><code>PATCH</code> version when you make backwards-compatible bug fixes.</li>
          </ol>
        </section>
        <section>
          <p>
            So Unpoly stayed on 0.x in hope that the API would stabilize 100%
          </p>
          <p class='fragment'>
            That never happened
          </p>
          <p class='fragment'>
            (and that's OK)
          </p>
        </section>
        <section>
          <h2>
            <div class='subtle'>In 2018 Unpoly will</div>
            <div class='line'>switch to frequent major releases</div>
          </h2>
          <ul>
            <li class='fragment'>
              It's stupid to stay on 0.x forever in fear of breaking changes
              <div class='subtle'>
                There is <b>zero signal</b> in an Unpoly version number right now
              </div>
            </li>
            <li class='fragment'>
              After 1.0 there will be a major version bump every few months
              <div class='subtle'>
                Use this to know if you can upgrade without reading CHANGELOG
              </div>
            </li>
            <li class='fragment'>
              Major bumps will not mean "huge breaking change" like in Rails
              <div class='subtle'>
                It means: <i>Any</i> breaking change
                <br>
                It means: You should read CHANGELOG or run tests
              </div>
            </li>
            <li class='fragment'>
              There's still a commitment to not break your app for petty reasons
              <div class='subtle'>
                There will always be deprecations and clearly documented upgrade paths
                <br>
                Like we had for three years now
              </div>
            </li>
          </ul>
        </section>
        <section>
          <h2>
            <div class='subtle'>
              Roadmap
            </div>
            <div class='line'>
              Quality of live improvements
            </div>
          </h2>
          <ul>
            <li><code>input[up-preview]</code></li>
            <li>Better handling of URL <code>#hashes</code></li>
            <li>Rich events</li>
            <li>Mailing list</li>
          </ul>
        </section>
        <section>
          <h2>
            <div class='subtle'>
              Roadmap
            </div>
            <div class='line'>
              Zeroconf offline
            </div>
          </h2>
          <p class='fragment'>
            (This might not work)
          </p>
        </section>
        <section>
          <p>
            Unpoly wants to emulate a browser that is friendly to apps, not documents
          </p>
          <p class='fragment red'>
            Browsers don't work well when internet goes away
          </p>
        </section>
        <section>
          <img height='600' src='pictures/cards_online.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_native_offline.png'>
        </section>
        <section>
          <p class='red'>
            It's not cool to burn down application state
            when connection is lost.
          </p>
          <p>
            Can we do better?
          </p>
        </section>
        <section>
          <img height='600' src='pictures/cards_online.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_unpoly_offline_toast.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_unpoly_offline_cached.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_unpoly_offline_toast.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_unpoly_restored.png'>
        </section>
        <section>
          <h2>
            <code>a.up-offline</code>
          </h2>
          <p>
            This link cannot currently be acccessed due to a loss
            of network connectivity.
          </p>
          <p>
            Previously cached pages will remain accessible while
            the user is offline.
            Cache entries don't expire while offline.
          </p>
          <p>
            This class will be set and removed automatically as
            network connection is lost or regained.
            Links to cached pages will not
            be assigned the <code>.up-offline</code> class.
            <br>
            &nbsp;
          </p>
          <h4>Default style</h4>
          <pre class='xl'><code class='css' data-noescape>a.up-offline {&#x000A;  text-decoration: line-through&#x000A;}&#x000A;</code></pre>
        </section>
        <section>
          <h3>Connection state notifications</h3>
          <pre class='xl'><code class='javascript' data-noescape>up.on('up:connection:lost', function(event) {&#x000A;  $('&lt;div class="toast"&gt;&lt;/div&gt;')&#x000A;    .text("Connection lost")&#x000A;    .appendTo(document.body)&#x000A;})&#x000A;&#x000A;up.on('up:connection:restored', function(event) {&#x000A;  $('&lt;div class="toast"&gt;&lt;/div&gt;')&#x000A;    .text("Connection restored")&#x000A;    .appendTo(document.body)&#x000A;})&#x000A;</code></pre>
        </section>
        <section>
          <img height='600' src='pictures/cards_form.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_native_offline.png'>
        </section>
        <section>
          <p class='red'>
            It's not cool to lose form data when connection is lost.
          </p>
          <p>
            Can we do better?
          </p>
        </section>
        <section>
          <img height='600' src='pictures/cards_form.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_form_unpoly_offline.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_form_unpoly_offline_navigate.png'>
        </section>
        <section>
          <img height='600' src='pictures/cards_form_unpoly_restored.png'>
        </section>
        <section>
          <h2>Rescuing form data</h2>
          <pre class='xl'><code class='html' data-noescape>&lt;form method='post' action='/documents' <mark>up-rescue</mark>&gt;&#x000A;  &lt;input type="text" name="title"&gt;&#x000A;  &lt;input type="file" name="document"&gt;&#x000A;  &lt;button type="submit"&gt;Submit&lt;/button&gt;&#x000A;&lt;/form&gt;&#x000A;</code></pre>
          <pre class='xl fragment'><code class='javascript' data-noescape>up.on('up:request:rescued', function(event) {&#x000A;  $('&lt;div class="toast"&gt;&lt;/div&gt;')&#x000A;    .text("Retry: " + event.request.title)&#x000A;    .on('click', event.request.retry)&#x000A;    .appendTo(document.body)&#x000A;})&#x000A;</code></pre>
        </section>
        <section>
          <h2>Cold acccess when offline</h2>
          <p>
            What if the page isn't even open when connection is lost?
          </p>
        </section>
        <section>
          <img height='600' src='pictures/cards_cold_access_native_offline.png'>
        </section>
        <section>
          <p>
            By moving the Unpoly cache into a <b>service worker</b> we can make cached pages accessible for new tabs.
          </p>
          <p class='green'>
            Even when the user is offline and hasn't yet opened her browser.
          </p>
        </section>
        <section>
          <img height='600' src='pictures/cards_cold_access_unpoly_offline.png'>
        </section>
        <section>
          <h3>
            <div class='red'>
              Why this might not work
            </div>
            <div class='line'>
              Offline is hard
            </div>
          </h3>
          <ul>
            <li class='fragment'>
              Devices don't actually know if they're online or not
            </li>
            <li class='fragment'>
              Being online/offline is not actually a binary state
              <div class='subtle'>
                Cell switches, moving devices, captive portals, ...
              </div>
            </li>
            <li class='fragment'>
              Service worker is on a different thread
            </li>
            <li class='fragment'>
              Need to cache JavaScript, CSS, images, fonts, ...
            </li>
          </ul>
          <p class='green fragment'>
            But let's try!
          </p>
        </section>
        <section>
          <h2>Vielen Dank!</h2>
        </section>
        <section>
          Extra slides
        </section>
        <section>
          <h2>
            <code>input[up-preview]</code>
          </h2>
          <pre class='l'><code class='html' data-noescape>&lt;form action="/contracts"&gt;&#x000A;&#x000A;  &lt;select name="department" <mark>up-preview="[name=employee]"</mark>&gt;&#x000A;    &lt;option&gt;Development&lt;/option&gt;&#x000A;    &lt;option&gt;Operations&lt;/option&gt;&#x000A;  &lt;/select&gt;&#x000A;&#x000A;  &lt;select name="employee"&gt;&#x000A;    &lt;option&gt;Judith&lt;/option&gt;&#x000A;    &lt;option&gt;Tobias&lt;/option&gt;&#x000A;  &lt;/select&gt;&#x000A;&#x000A;&lt;/form&gt;&#x000A;</code></pre>
        </section>
        <section>
          <h2>
            <code>input[up-preview]</code>
          </h2>
          <pre class='l'><code class='html' data-noescape>&lt;form action="/invoices"&gt;&#x000A;&#x000A;  &lt;input name="item_prices[]" <mark>up-preview=".total"</mark> value="20"&gt; €&#x000A;  &lt;input name="item_prices[]" <mark>up-preview=".total"</mark> value="20"&gt; €&#x000A;  &lt;input name="item_prices[]" <mark>up-preview=".total"</mark> value="60"&gt; €&#x000A;  &lt;input name="item_prices[]" <mark>up-preview=".total"</mark> value=""&gt; €&#x000A;&#x000A;  &lt;div class="total"&gt;100 €&lt;/div&gt;&#x000A;&#x000A;&lt;/form&gt;&#x000A;&#x000A;</code></pre>
        </section>
      </div>
    </div>
    <script src='lib/js/head.min.js'></script>
    <script src='js/reveal.js'></script>
    <script>
      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
      
        transition: 'none', // none/fade/slide/convex/concave/zoom
      
        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });
    </script>
  </body>
</html>
